# Managed by Salt
#
# We are using a static file because the new syntax for template is not
# supported yet at the formula

template(name="DynFile" type="string" string="/var/log/opensuse/hosts/%HOSTNAME%.log")

$FileCreateMode 0640
$FileGroup heroes

if $hostname != "monitor" then {
   ?DynFile
   stop
}

# reset back to our default (aligns with FileGroup in rsyslog.conf)
$FileGroup root
