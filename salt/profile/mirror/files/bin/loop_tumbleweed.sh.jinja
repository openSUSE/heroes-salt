#!/bin/bash
{{ pillar['managed_by_salt'] }}

. /home/mirror/bin/loop_common

WHAT=( 'tumbleweed/repo/oss/x86_64' 'tumbleweed/repo/oss/noarch' 'tumbleweed/repo/oss/repodata' )

RSYNC_OPTIONS="$RSYNC_OPTIONS 
        --exclude=*debuginfo*
        --exclude=*Mesa*
        --exclude=kernel-firmware*
        --exclude=Mozilla*
        --exclude=texlive*
        --exclude=Aeon*
        --exclude=cross-*
        --exclude=chrom*
        --exclude=NetworkManager*
        --exclude=*/s390x/*
        --exclude=*/ppc64le/*
        --exclude=i586
        --exclude=i686
        --exclude=*/aarch64/*
        --exclude=*/*/kernel-*devel*
        --exclude=*/*/kernel-source*
        --exclude=*/*/libreoffice*
        --exclude=*/*/kernel-azure*
        --exclude=*aarch64*
        --exclude=*/*/virtualbox*
        --exclude=non-oss/*
        --exclude=*/*/kernel-rt*
        --exclude=*/*/kernel-obs*
        --exclude=*/*/gnome*
        --exclude=*/*/kernel-zfcpdump*
        --exclude=*/*/kernel-debug*
        --delete-excluded"

sync_loop
